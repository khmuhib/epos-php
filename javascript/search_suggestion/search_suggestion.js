$(document).ready(function(){$('#search input[name="search"]').autocomplete({appendTo:$("#searchbox"),source:function(e,a){$.ajax({url:"index.php?route=extension/module/search_suggestion/ajax",dataType:"json",data:{keyword:e.term},success:function(e){a($.map(e,function(e){return{fields:e.fields,value:e.href}}))}})},minLength:1,select:function(e,a){return""!=a.item.value&&(location.href=a.item.value,fse)},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all")},focus:function(e,a){return $('#search input[name="filter_name"]').val(a.item.label),!1}}).data("ui-autocomplete")._renderItem=function(e,a){var l=[];$.each(a.fields,function(e,a){var n;null!=a&&null!=a[e]&&a[e]&&(n="",n="price"==e?a.special?'<span class="price-old">'+a.price+'</span><span class="price-new">'+a.special+"</span>":a.price:a[e],null!=a.label&&null!=a.label.show&&a.label.show&&(n='<span class="label">'+a.label.label+"</span>"+n),n=null!=a.location&&"inline"==a.location?'<span class="'+e+'">'+n+"</span>":'<div class="'+e+'">'+n+"</div>",l.push({sort:a.sort,html:n}))}),l.sort(function(e,a){return e.sort-a.sort});var n="";return $.each(l,function(e,a){null!=a&&(n+=a.html)}),$("<li></li>").data("item.autocomplete",a).append('<a class="search-suggestion">'+n+"</a>").appendTo(e)}});